<!-- templates/index.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Report Maintenance Issue</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; }
        textarea { width: 100%; padding: 8px; }
        button { background: #4CAF50; color: white; border: none; padding: 10px 15px; cursor: pointer; }
        .messages { margin-bottom: 20px; }
        .message { padding: 10px; margin-bottom: 10px; border-radius: 4px; }
        .success { background-color: #dff0d8; border: 1px solid #d6e9c6; }
        .error { background-color: #f2dede; border: 1px solid #ebccd1; }
    </style>
</head>
<body>
    <h1>Report a Maintenance Issue</h1>
    
    {% if get_flashed_messages() %}
    <div class="messages">
        {% for message in get_flashed_messages() %}
        <div class="message {% if 'success' in message %}success{% else %}error{% endif %}">
            {{ message }}
        </div>
        {% endfor %}
    </div>
    {% endif %}
    
    <form action="{{ url_for('submit_issue') }}" method="post" enctype="multipart/form-data">
        <div class="form-group">
            <label for="description">Describe the issue:</label>
            <textarea id="description" name="description" rows="4" required></textarea>
        </div>
        
        <div class="form-group">
            <label for="image">Upload a photo (optional):</label>
            <input type="file" id="image" name="image" accept="image/*">
        </div>
        
        <div class="form-group">
            <input type="checkbox" id="consent" name="consent" required>
            <label for="consent">I agree to anonymized data use for service improvement</label>
        </div>
        
        <button type="submit">Submit Issue</button>
    </form>
</body>
</html>